{"version":3,"sources":["00main.js","01fav.js","03localStorage.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\nconst userInput = document.querySelector('.js_inputUser');\nconst searchBtn = document.querySelector('.js_btn');\nconst seriesListHtml = document.querySelector('.js_movielist');\nconst favoriteListHtml = document.querySelector('.js_favoriteList');\nconst placeholderImage = 'https://via.placeholder.com/210x295/ffffff/666666/?text=TV';\nconst errorMessage = document.querySelector('.js_errorMessage');\n\nlet listSeries = [];\nlet favoriteSeries = [];\n\n\nfunction handleApiFetch(e) {\n  e.preventDefault();\n\n  fetch(`https://api.tvmaze.com/search/shows?q=:${userInput.value}`)\n    .then(response => response.json())\n\n    .then(dataShows => {\n      listSeries = dataShows.map(data => {\n        return {\n          id: data.show.id,\n          name: data.show.name,\n          image: data.show.image\n        };\n      });\n\n      renderListShow();\n\n    })\n\n    .catch(error => errorMessage.innerHTML = `Ha sucedido un error: ${error}`);\n}\n\n\nfunction renderListShow() {\n  seriesListHtml.innerHTML = '';\n\n  for (let eleInList of listSeries) {\n\n    const movieName = eleInList.name;\n    const movieId = eleInList.id;\n    const newItemList = document.createElement('li');\n    const img = document.createElement('img');\n    const textName = document.createElement('p');\n    const textField = document.createTextNode(movieName);\n    newItemList.id = movieId;\n    newItemList.className = 'styleList js_li';\n\n    if (eleInList.image !== null) {\n      let getImage = eleInList.image.medium;\n      img.src = getImage;\n    } else {\n      img.src = placeholderImage;\n    }\n\n    img.alt = movieName;\n    textName.appendChild(textField);\n    newItemList.append(textName, img);\n    seriesListHtml.appendChild(newItemList);\n\n  }\n\n  handleClickLi();\n}\n\nsearchBtn.addEventListener('click', handleApiFetch);\n\n","'use strict';\r\n\r\nfunction handleFav(e) {\r\n  const clickedId = parseInt(e.currentTarget.id);\r\n  const favFound = favoriteSeries.findIndex((fav) => {\r\n    return fav.id === clickedId;\r\n  });\r\n\r\n  if (favFound === -1) {\r\n    const showEle = listSeries.find((ele) => {\r\n      return ele.id === clickedId;\r\n    });\r\n    favoriteSeries.push(showEle);\r\n\r\n  } else {\r\n    favoriteSeries.splice(favFound, 1);\r\n\r\n  }\r\n\r\n  renderFavList(); //esto pinta \r\n  setInLocalStorage(); //esto guarda \r\n}\r\n\r\nfunction renderFavList() {\r\n  favoriteListHtml.innerHTML = '';\r\n  for (let fav of favoriteSeries) {\r\n    const nameShow = fav.name;\r\n    const image = fav.image;\r\n    const id = fav.id;\r\n    let getImage = '';\r\n    const newItemList = document.createElement('li');\r\n    const img = document.createElement('img');\r\n    const textName = document.createElement('p');\r\n    const textField = document.createTextNode(nameShow);\r\n    newItemList.id = id;\r\n    newItemList.className = \"styleListFav js_li\";\r\n\r\n    const removeFav = document.createElement('i');\r\n    removeFav.className = 'fas fa-times-circle styleRemove';\r\n\r\n    if (image !== null) {\r\n      getImage = image.medium;\r\n      img.src = getImage;\r\n    } else {\r\n      img.src = placeholderImage;\r\n\r\n    }\r\n    img.alt = nameShow;\r\n    textName.appendChild(textField);\r\n    newItemList.append(textName, img, removeFav);\r\n    favoriteListHtml.appendChild(newItemList);\r\n\r\n  }\r\n  handleClickLi();\r\n}\r\n\r\nfunction handleClickLi() {\r\n  const liListener = document.querySelectorAll('.js_li');\r\n  for (let eleLi of liListener) {\r\n    eleLi.addEventListener('click', handleFav);\r\n  }\r\n}\r\n\r\n","'use strict';\r\n\r\nfunction setInLocalStorage() {\r\n  const stringList = JSON.stringify(favoriteSeries);\r\n  localStorage.setItem('show', stringList);\r\n}\r\n\r\nfunction getInLocalStorage() {\r\n  const localStorageShows = localStorage.getItem('show');\r\n  favoriteSeries = JSON.parse(localStorageShows);\r\n  if (favoriteSeries === null) {\r\n    favoriteSeries = [];\r\n  } else {\r\n    renderFavList();\r\n  }\r\n}\r\n\r\ngetInLocalStorage();\r\n"]}